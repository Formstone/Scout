/* 
 * Scout v3.1.0 - 2014-04-25 
 * A jQuery plugin for pushing Google Analytics Events. Part of the Formstone Library. 
 * http://formstone.it/scout/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a,b){"use strict";function c(b){if(!h){h=!0,g=a("body"),a.extend(i,b||{}),g.find("a").not("[data-scout-event]").each(e),g.on("click.scout","*[data-scout-event]",d);for(var c in a.scout.extensions)a.scout.extensions.hasOwnProperty(c)&&a.scout.extensions[c](i.extensions[c]||null)}}function d(b){b.preventDefault();var c=a(this),d=c.attr("href"),e=c.data("scout-event").split(",");for(var g in e)e.hasOwnProperty(g)&&(e[g]=a.trim(e[g]));f(e[0],e[1],e[2]||d,e[3],e[4],c)}function e(){var b,c=a(this),d="undefined"!=typeof c.attr("href")?c.attr("href"):"",e=d.match(document.domain.split(".").reverse()[1]+"."+document.domain.split(".").reverse()[0]);if(d.match(/^mailto\:/i))b="Email, Click, "+d.replace(/^mailto\:/i,"");else if(d.match(/^tel\:/i))b="Telephone, Click, "+d.replace(/^tel\:/i,"");else if(d.match(i.filetypes)){var f=/[.]/.exec(d)?/[^.]+$/.exec(d):void 0;b="File, Download:"+f[0]+", "+d.replace(/ /g,"-")}else d.match(/^https?\:/i)&&!e&&(b="ExternalLink, Click, "+d.replace(/^https?\:\/\//i,""));c.attr("data-scout-event",b)}function f(a,c,d,e,f,g){if("function"==typeof b.ga){var h={hitType:"event",location:b.location,title:b.document.title};if(a&&(h.eventCategory=a),c&&(h.eventAction=c),d&&(h.eventLabel=d),e&&(h.eventValue=e),f&&(h.nonInteraction=f),d&&!g.data("scout-stop")){var i=d.indexOf("://")<0?b.location.protocol+"//"+b.location.hostname+"/"+d:d;g.attr("target")?b.open(i,g.attr("target")):h.hitCallback=function(){document.location=i}}b.ga("send",h)}}var g,h=!1,i={delay:100,extensions:{},filetypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i};a.scout=function(){arguments.length&&"object"!=typeof arguments[0]?f.apply(this,arguments):c.apply(this,arguments)},a.scout.extensions={}}(jQuery,window);